<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>2.&nbsp;Level B</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="imsld"><link rel="up" href="ch04.html" title="Chapter&nbsp;4.&nbsp;Data Model"><link rel="prev" href="ch04s01.html" title="1.&nbsp;Level A"><link rel="next" href="ch04s03.html" title="3.&nbsp;Level C"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.&nbsp;Level B</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s01.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;4.&nbsp;Data Model</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch04s03.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1152"></a>2.&nbsp;Level B</h2></div></div></div><p>Level B extends the table email_data and add: username_property_id and email_property_id * Next is shown the E-R diagram for these tables</p><p><a href="resources/imsld_diagram_B.GIF" target="_top"><span class="inlinemediaobject"><img src="resources/imsld_diagram_B.GIF"></span></a></p><div class="itemizedlist"><ul type="disc"><li><p>imsld_properties (add a reference to properties from imsld_components and time_limits *)</p><div class="itemizedlist"><ul type="circle"><li><p>property_id</p></li></ul></div></li><li><p>imsld_loc_locpers_locrole_properties: Combined table for the loc, locpers and locrole properties</p><div class="itemizedlist"><ul type="circle"><li><p>property_id - references imsld_properties</p></li><li><p>title. The name of the property</p></li><li><p>datatype - references imsld_datatypes</p></li><li><p>initial_value</p></li></ul></div></li><li><p>imsld_globpers_glob_property: Combined table for the glob and globpers properties</p><div class="itemizedlist"><ul type="circle"><li><p>property_id - references imsld_properties</p></li><li><p>global_definition_id - references imsld_global_definitions</p></li><li><p>existing</p></li></ul></div></li><li><p>imsld_global_definitions</p><div class="itemizedlist"><ul type="circle"><li><p>property_id - references imsld_properties</p></li><li><p>uri</p></li><li><p>title</p></li><li><p>global_definition</p></li><li><p>datatype_id</p></li><li><p>initial_value</p></li></ul></div></li><li><p>imsld_property_groups</p><div class="itemizedlist"><ul type="circle"><li><p>property_group_id</p></li><li><p>property_id - references imsld_properties</p></li><li><p>title</p></li></ul></div></li><li><p>imsld_group_property_coices</p><div class="itemizedlist"><ul type="circle"><li><p>choice_id</p></li><li><p>property_id - references imsld_properties</p></li><li><p>proerty_group_id - references imsld_property_groups</p></li></ul></div></li><li><p>imsld_restrictions</p><div class="itemizedlist"><ul type="circle"><li><p>restriction_id</p></li><li><p>restriction_type - minExclusive, minInclusive, maxExclusive, maxInclusive, totalDigits, fractionDigits, length, minLength, maxLength, enumeration, whiteSpace, pattern</p></li><li><p>restriction</p></li></ul></div></li><li><p>imsld_property_restrictions_map</p><div class="itemizedlist"><ul type="circle"><li><p>restriction_id - references imsld_restrictions</p></li><li><p>property_id - references imsld_properties</p></li></ul></div></li><li><p>imsld_datatypes</p><div class="itemizedlist"><ul type="circle"><li><p>datatype_id</p></li><li><p>datatype - string, boolean, integer, uri, datetime, file, real, tet, duration, other</p></li></ul></div></li><li><p>imsld_when_property_value_is_set (add a reference to this table from the tables: complete_activities, complete_act, complete_play and complete_unit_of_learning *)</p><div class="itemizedlist"><ul type="circle"><li><p>when_property_value_is_set_id</p></li><li><p>property_id - references imsld_properties</p></li><li><p>property_value_id - references property_values</p></li></ul></div></li><li><p>imsld_property_values</p><div class="itemizedlist"><ul type="circle"><li><p>property_value_id</p></li><li><p>langstirng</p></li><li><p>calculate_id - references imsld_calculates</p></li><li><p>property_id - references imsld_properties</p></li></ul></div></li><li><p>imsld_change_property_values: A reference to this table must be added from the imsld_on_completion table in level A</p><div class="itemizedlist"><ul type="circle"><li><p>change_property_value_id</p></li><li><p>property_id - references imsld_properties</p></li><li><p>property_vaue_id - references property_values</p></li></ul></div></li><li><p>imsld_monitors</p><div class="itemizedlist"><ul type="circle"><li><p>monitor_id</p></li><li><p>serivce_id - references imsld_services</p></li><li><p>monitor_choice_id - references imsld_monitor_choices</p></li></ul></div></li><li><p>imsld_monitor_choices</p><div class="itemizedlist"><ul type="circle"><li><p>choice_id</p></li><li><p>role_id - references imsld_roles</p></li><li><p>self - references imsld_roles</p></li></ul></div></li><li><p>imsld_conditions: A reference to this table must be added fom the table imsld_methods in level A</p><div class="itemizedlist"><ul type="circle"><li><p>condition_id</p></li><li><p>title</p></li></ul></div></li><li><p>imsld_sequences</p><div class="itemizedlist"><ul type="circle"><li><p>sequence_id</p></li><li><p>condition_id - references imsld_conditions</p></li><li><p>sequence_sort - to know how to evaluate the condition</p></li><li><p>if_id - references imsld_ifs</p></li></ul></div></li><li><p>imsld_then_model</p><div class="itemizedlist"><ul type="circle"><li><p>then_model_id</p></li><li><p>show_id - references imsld_show_hide</p></li><li><p>hide_id - references imsld_show_hide</p></li><li><p>change_property_value</p></li></ul></div></li><li><p>imsld_ifs</p><div class="itemizedlist"><ul type="circle"><li><p>if_id</p></li><li><p>expression_id - references imsld_expressions</p></li><li><p>true_thenmodel_id - 'then', evaluated if the expression is true. References imsld_then_model</p></li><li><p>false_thenmodel_id - 'else', evaluated if the expresison is false. References imsld_then_model</p></li></ul></div></li><li><p>imsld_expressions - table holding the expressions. Instead of makin a table for each type of expression, we store the expression_type and according to that value we know what other attributes in the table have to be stored in order to use them</p><div class="itemizedlist"><ul type="circle"><li><p>expression_id</p></li><li><p>expression_type - is-member-of-role, is, is-not, and, or, sum, substract, multiply, divide, greater-than, less-than, users-in-role, no-vaue, time-unit-of-learning-started, datetime-activity-started, current-datetime, complete, not</p></li><li><p>expression_id - references imsld_expressions</p></li><li><p>calculate_id - references imsld_calculates</p></li><li><p>expression_one_id - references imsld_expressions</p></li><li><p>expression_two_id - references imsld_expressions</p></li><li><p>role_id - references imsld_roles</p></li><li><p>property_id - references imsld_properties</p></li><li><p>time_unit_of_learning_started</p></li><li><p>datetime_activity_started</p></li><li><p>current_datetime</p></li></ul></div></li><li><p>imsld_calculates</p><div class="itemizedlist"><ul type="circle"><li><p>calculate_id</p></li><li><p>right_operand - references imsld_operands</p></li><li><p>left_operand - references imsld_operands</p></li></ul></div></li><li><p>imsld_operands</p><div class="itemizedlist"><ul type="circle"><li><p>operand_id</p></li><li><p>property_id - references imsld_properties</p></li><li><p>property_value - references imsld_property_values</p></li><li><p>expression_id - refernces imsld_expressions</p></li></ul></div></li><li><p>imsld_when_condition_true (add a reference from the imsld_complete_acts table *)</p><div class="itemizedlist"><ul type="circle"><li><p>when_condition_true_id</p></li><li><p>role_id - references imsld_roles</p></li><li><p>expression_id - references imsld_expressions</p></li></ul></div></li><li><p>imsld_show_hide</p><div class="itemizedlist"><ul type="circle"><li><p>show_hide_id</p></li><li><p>class</p></li><li><p>item_id - references imsld_items</p></li><li><p>environment_id - references imsld_environments</p></li><li><p>learning_activity_id - references imsld_learning_activities</p></li><li><p>support_activity_id - references imsld_support_atctivities</p></li><li><p>activity_structure_id - references imsld_activity_structures</p></li><li><p>play_id - references imsld_plays</p></li><li><p>unit_of_learning_id - references imsld_imslds</p></li></ul></div></li><li><p>imsld_global_elements</p><div class="itemizedlist"><ul type="circle"><li><p>global_element_id</p></li><li><p>view_set_property_id - references view_set_properties</p></li></ul></div></li><li><p>imsld_view_set_properties</p><div class="itemizedlist"><ul type="circle"><li><p>view_set_property_id</p></li><li><p>type - view-property, view-property-group, set-property, set-property-group</p></li><li><p>href</p></li><li><p>property_of - self or supporter-person</p></li><li><p>ref</p></li><li><p>view - value or title-value</p></li><li><p>max_transactions</p></li><li><p>transaction_type</p></li><li><p>notification_id - references imsld_notifications **</p></li></ul></div></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s01.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch04s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.&nbsp;Level A&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;3.&nbsp;Level C</td></tr></table></div></body></html>